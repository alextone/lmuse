#!/bin/sh

#
#  out of source build
#     all generated files go into subdirectory "build"
#
#  NOTICE:
#     this does (yet) not work; for unknown reasons *.ui file
#     dependencies are not properly handled
#

if test ! -d build; 
   then
      echo "+creating build directory"
      mkdir build
      echo "+entering build directory"
      cd build
      echo "+calling cmake"
      cmake ..
   else
      cd build
   fi

# ahem... hack
cp ../all.h .

echo "+start top level make..."
make

