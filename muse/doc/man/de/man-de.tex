%====================================================================
%     MusE Manual
%     dies ist das MusE Manual
%
% (C) 2006 Copyright: Werner Schweer und Andere
%====================================================================

%----------------------------------------------------------
%     Setup
%----------------------------------------------------------

%\showframe
%\showsetups
\usemodule[chart]
\setupcolors[state=start]
\setupbodyfont[Palatino]
\language[de]

% typeset in unicode (utf8)
% \enableregime[il1]
\enableregime[utf]

\startuseMPgraphic{FunnyFrame}
      picture p; numeric o; path a, b; pair c;
      p := textext.rt(\MPstring{FunnyFrame});
      o := BodyFontSize;
      a := unitsquare xyscaled(OverlayWidth,OverlayHeight);
      p := p shifted (20, OverlayHeight-ypart center p);
      drawoptions (withpen pencircle scaled 1pt withcolor .625red);
      b := a superellipsed .95;
      fill b withcolor .85white; draw b;
      b := (boundingbox p) superellipsed .95;
      fill b withcolor .85white; draw b;
      draw p withcolor black;
      setbounds currentpicture to a;
    \stopuseMPgraphic

\defineoverlay[FunnyFrame][\useMPgraphic{FunnyFrame}]
\defineframedtext[FunnyText][frame=off,background=FunnyFrame]
\def\StartFrame{\startFunnyText}
\def\StopFrame{\stopFunnyText}
\def\FrameTitle#1%
 {\setMPtext{FunnyFrame}{\hbox spread 1em{\hss\strut#1\hss}}}
\setMPtext{FunnyFrame}{}


\define\M{MusE}
\define[1]\Index{{\it #1}\marginpar{#1}\index{#1}}

\defineindenting[Cmdi][text=,separator=,width=fit,distance=1em]

\define[1]\Cmd{
  \Cmdi
  \framed[
     background=color,
     width=fit,
     align=right,
     backgroundcolor=lightgray,
     framecolor=blue]
     {\tt\space #1}}

\define[2]\CCmd{
  \Cmdi
  \framed[
     background=color,
     width=broad,
     align=right,
     backgroundcolor=lightgray,
     framecolor=blue]
     {\vbox{\hbox{\tt\space #1}\hbox{\tt\space #2}}}}

%\define\startdescription{\startpacked}
\define\startdescription{}
%\define\stopdescription{\stoppacked}
\define\stopdescription{}

\define[1]\Fig{\blank\hbox{\externalfigure[#1]}\blank}

\define[2]\Screen{
      \placefigure[here][fig:#1]{#2}{\externalfigure[#1][scale=1600]}
      }
\definedescription[Option][
      location=left,
      headstyle=bold,
      width=4em,
      before={\startnarrower[left]\setupblank[0pt]},
      after={\stopnarrower\setupblank}]

\definedescription[Filetype][
      location=left,
      headstyle=bold,
      width=6em,
      before={\startnarrower[left]\setupblank[0pt]},
      after={\stopnarrower\setupblank}]

\definedescription[FileList][
      location=left,
      headstyle=bold,
      width=7em,
      before={\startnarrower[left]\setupblank[0pt]},
      after={\stopnarrower\setupblank}]

\definedescription[Input][
      location=left,
      headstyle=bold,
      width=9em,
      before={\startnarrower[left]\setupblank[0pt]},
      after={\stopnarrower\setupblank}]

\definedescription[InputN][
      location=left,
      headstyle=bold,
      width=6em,
      before={\startnarrower[left]\setupblank[0pt]},
      after={\stopnarrower\setupblank}]

\define[2]\Figure{
      \placefigure
         [#1][fig:#2]{}
         {\externalfigure[pics/#2]}
         }

\define[1]\Menu{
      \placefigure[right][fig:#1]{}
         {\externalfigure[pics/#1][scale=2000]}
         }

\definedescription[Opt][location=hanging,headstyle=bold,width=broad]

\setuptyping[before=\blank\startbackground, after=\stopbackground\blank] % source code with background
\setupwhitespace[medium]

\component figurepath.tex

%----------------------------------------------------------
%     Body
%----------------------------------------------------------

\starttext
   \language[de]
   \mainlanguage[de]
   \startstandardmakeup[doublesided=no]
      \definebodyfont[10pt,11pt,12pt][rm][tfe=Regular at 48pt]
      \tfe\setupinterlinespace
      \hfill \color[red]{\M}\par
      \hfill \color[blue]{Manual}\par
      \vfill
      \rightaligned{\externalfigure[titlelogo]}
      \vfill
      \hfill \color[blue]{DE}\par
      \definebodyfont[10pt,11pt,12pt][rm][tfb=Regular at 24pt]
      \tfb\setupinterlinespace
      \hfill Version 1.0pre1\par
      \stopstandardmakeup

   \startstandardmakeup[page=no]
      \vfill
      \M\ wird von SourceForge gehostet:\par
      \type{http://sourceforge.net/projects/lmuse}
      \blank[line]
      Dieses Dokument wurde mit \pdfTeX\ und dem Macro Paket
      \ConTeXt\ erstellt.
      \blank
      \copyright 2006 Werner Schweer und Andere\par
      Titelgrafik \copyright Joachim Schiele 
      \stopstandardmakeup

   \completecontent

\chapter{\M\ Quickstart}
   \component midirecording.tex
   \section{Audio Playback}
   \section{Audio Recording}

\component projekte.tex
\component struktur.tex
\component miditracks.tex

\chapter{Globale Editor Funktionen}
   \section{Globaler Schnitt}
      Die ''Globaler Schnitt''-Funktion enfernt auf allen Spuren den Bereich 
      zwischen der linken und rechten Marke. Nachfolgende Events rücken 
      dabei auf. Auch Markerposition und Tempoevents werden
      verschoben. Lediglich stumm geschaltete Spuren werden nicht 
      berücksichtigt.

   \section{Global Einfügen}
      Mit der ''Global Einfügen''-Funktion kann ein leerer Bereich eingefügt 
      werden. Der Bereich wird an der Position des linken Markers 
      eingefügt. Die Dauer des eingefügten Bereichs entspricht dem Abstand 
      zwischen linker und rechter Marke. Marker und Tempoevents hinter der 
      Einfügeposition werden entsprechend verschoben.
      Stumm geschaltete Spuren werden nicht verändert.

   \section{Global Splitten}
      Die ''Global Splitten''-Funktion entspricht der Scheren-Funktion für 
      einzelne Parts. Im Gegensatz zur Scheren-Funktion wird jedoch nicht 
      ein Part, sondern alle Parts an der aktuellen Markerposition 
      geschnitten. Dies gilt nicht für stummgeschaltete Spuren.

   \section{Bereich Kopieren}                 
      Mit der ''Global Kopieren''-Funktion können komplette Teile eines 
      Songs an eine andere Stelle kopiert werden:

      \startitemize[packed]
      \item stellen Sie die linke Marke an den Anfang des zu kopierenden 
            Bereichs
      \item stellen Sie die rechte Marke an das Ende des zu kopierenden 
            Bereichs
      \item setzen Sie den Lokator an die Einfgestelle
      \item wählen Sie ''Copy Range'' aus dem ''Struktur'' Menü.
      \stopitemize

      Wie bei allen anderen Strukturkommandos werden stummgeschaltete 
      Spuren nicht berücksichtigt.

\chapter{Automation}
      \component automation.tex

\component installation.tex

\startappendices
   \component ../gpl.tex
   \completeindex
   \stopappendices
\stoptext
        
